<% /* views/trains.ejs */ %>

<h1 class="mb-4">ðŸš‚ Trains</h1>

<!-- Add New Train Form -->
<form action="/ui/trains" method="POST" class="row g-3 mb-5">
  <div class="col-md-4">
    <label for="train_number" class="form-label">Train Number</label>
    <input
      type="text"
      name="train_number"
      id="train_number"
      class="form-control"
      placeholder="e.g. TR1004"
      required
    />
  </div>
  <div class="col-md-4">
    <label for="model" class="form-label">Model</label>
    <input
      type="text"
      name="model"
      id="model"
      class="form-control"
      placeholder="e.g. GE ES44AC"
      required
    />
  </div>
  <div class="col-md-2">
    <label for="capacity" class="form-label">Capacity (t)</label>
    <input
      type="number"
      name="capacity"
      id="capacity"
      class="form-control"
      placeholder="e.g. 2000"
      required
    />
  </div>
  <div class="col-md-2 align-self-end">
    <button type="submit" class="btn btn-primary w-100">Add Train</button>
  </div>
</form>

<!-- Trains Table -->
<div class="table-responsive">
  <table class="table table-striped table-hover align-middle">
    <thead class="table-dark">
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Train #</th>
        <th scope="col">Model</th>
        <th scope="col">Capacity (t)</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% trains.forEach(train => { %>
      <tr>
        <th scope="row"><%= train.id %></th>
        <td><%= train.train_number %></td>
        <td><%= train.model %></td>
        <td><%= train.capacity %></td>
        <td>
          <form
            action="/ui/trains/<%= train.id %>?_method=DELETE"
            method="POST"
            class="d-inline"
          >
            <button
              type="submit"
              class="btn btn-danger btn-sm"
              onclick="return confirm('Are you sure you want to delete train <%= train.train_number %>?');"
            >
              Delete
            </button>
          </form>
        </td>
      </tr>
      <% }) %>
    </tbody>
  </table>
</div>
